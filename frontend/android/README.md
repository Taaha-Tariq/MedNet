# Android Build Guide (Gradle/Kotlin)

## How to run (Android)
```bash
# From repo root
cd frontend
flutter clean
flutter pub get

# Verify environment
flutter doctor -v

# Build (debug APK)
flutter build apk -v

# Or run on a device/emulator
flutter run -d android -v
```

If `local.properties` is missing, create it:
```bash
echo "flutter.sdk=$HOME/development/flutter" > android/local.properties
```

## Java & SDK
- Use Java 17:
```bash
sudo apt-get install -y openjdk-17-jdk
export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64
export PATH="$JAVA_HOME/bin:$PATH"
```
- Install Android Studio → SDK Manager → latest SDK + Platform Tools, then:
```bash
flutter doctor --android-licenses
```

## Gradle/Kotlin versions (this project)
- Android Gradle Plugin: defined in `android/settings.gradle.kts` (e.g., `8.11.x`).
- Kotlin Plugin: aligned via `android/build.gradle.kts` to the same version (e.g., `2.2.20`).
- Gradle wrapper: `android/gradle/wrapper/gradle-wrapper.properties` (e.g., `8.10.2`).

These must be compatible. If you change AGP, adjust the Gradle wrapper accordingly.

## Common fixes
- Version mismatch errors (Kotlin/AGP): ensure the Kotlin plugin version in `build.gradle.kts` matches `settings.gradle.kts`.
- Gradle version error: bump `distributionUrl` in `gradle-wrapper.properties` to a version compatible with your AGP.
- Compile/Target SDK: update in `app/build.gradle.kts` if Play policies require newer API.
- Clean caches when in doubt:
```bash
cd android
./gradlew --stop
./gradlew clean
cd ..
flutter clean
flutter pub get
```
# Android Module

- Kotlin/Gradle project generated by Flutter.
- Key files: `app/build.gradle.kts`, `settings.gradle.kts`, `gradle.properties`.
- INTERNET permission and cleartext (if needed) are configured in the Android manifest.

Build via Flutter: `flutter build apk` or `flutter run`.
